---
phase: 10-execution-commands
plan: 03
type: execute
wave: 3
depends_on: ["10-02"]
files_modified:
  - commands/gsd/help.md
  - commands/gsd/progress.md
autonomous: true

must_haves:
  truths:
    - "Help shows /gsd:autopilot as the lazy mode execution command"
    - "Help removes separate ralph/run-milestone references"
    - "Progress command can trigger autopilot in lazy mode"
  artifacts:
    - path: "commands/gsd/help.md"
      provides: "Updated command reference with autopilot"
      contains: "/gsd:autopilot"
    - path: "commands/gsd/progress.md"
      provides: "Lazy mode routing to autopilot"
      contains: "autopilot"
  key_links:
    - from: "commands/gsd/help.md"
      to: "commands/gsd/autopilot.md"
      via: "documentation reference"
      pattern: "gsd:autopilot"
---

<objective>
Update help.md and progress.md to reflect the new autopilot command.

Purpose: Ensure user-facing documentation shows the unified autopilot command instead of separate commands.
Output: Updated help.md with autopilot, updated progress.md with lazy mode routing.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-execution-commands/10-CONTEXT.md
@commands/gsd/help.md
@commands/gsd/progress.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update help.md with autopilot command</name>
  <files>commands/gsd/help.md</files>
  <action>
Update commands/gsd/help.md to reflect the new unified autopilot command:

1. In the Mode table, update Lazy row:
   FROM: "plan-milestone-all, run-milestone"
   TO: "plan-milestone-all, autopilot"

2. In "Lazy Mode Execution" section, replace the three commands with:

**`/gsd:plan-milestone-all`** (lazy)
Generate all phase plans for entire milestone before autonomous execution.

**`/gsd:autopilot`** (lazy)
Start autonomous milestone execution. Combines settings configuration, plan detection, and execution into single command.

- Prompts for settings (max iterations, timeout, thresholds)
- Detects existing plans or triggers planning
- Detects incomplete runs and offers resume
- Executes until completion or interruption
- Handles Ctrl+C gracefully with resume info

Remove the separate /gsd:ralph and /gsd:run-milestone entries.

3. In "Common Workflows" Lazy section, update to:

**Lazy: Fire and forget:**

```
/gsd:new-project
/gsd:lazy-mode              # Enable lazy mode
/gsd:autopilot              # Plan (if needed) and execute
# ... walk away ...
```

Or with pre-planning:

```
/gsd:new-project
/gsd:lazy-mode              # Enable lazy mode
/gsd:plan-milestone-all     # Plan all phases first
/clear
/gsd:autopilot              # Execute (detects existing plans)
```

4. In the command table/list, ensure autopilot appears with (lazy) suffix.
  </action>
  <verify>
- grep "gsd:autopilot" commands/gsd/help.md shows command entry
- grep "ralph" commands/gsd/help.md should NOT find /gsd:ralph (may find ralph.sh reference)
- grep "run-milestone" commands/gsd/help.md should NOT find /gsd:run-milestone
- grep "Ctrl+C" commands/gsd/help.md shows interrupt handling mention
  </verify>
  <done>help.md shows autopilot as the unified lazy mode execution command</done>
</task>

<task type="auto">
  <name>Task 2: Update progress.md for lazy mode routing</name>
  <files>commands/gsd/progress.md</files>
  <action>
Update commands/gsd/progress.md to route to autopilot in lazy mode.

Find the section that offers next actions based on project state. Add lazy mode awareness:

When suggesting execution in lazy mode, suggest autopilot:
- If mode is lazy and phases have plans, suggest: "/gsd:autopilot - Start autonomous execution"
- If mode is lazy and phases need plans, suggest: "/gsd:autopilot - Plan and execute (or /gsd:plan-milestone-all first)"

When mode is interactive, keep existing suggestions (execute-phase).

Add mode-aware next action routing:
```bash
# Determine mode
source .planning/.ralph-config 2>/dev/null || true
CURRENT_MODE="${GSD_MODE:-}"

# Suggest appropriate execution command
if [[ "$CURRENT_MODE" == "lazy" ]]; then
    echo "Execute: /gsd:autopilot"
else
    echo "Execute: /gsd:execute-phase $NEXT_PHASE"
fi
```

Ensure the "Next Steps" or "Suggested Actions" section includes autopilot when in lazy mode.
  </action>
  <verify>
- grep "autopilot" commands/gsd/progress.md shows lazy mode suggestion
- grep "GSD_MODE" commands/gsd/progress.md shows mode checking
  </verify>
  <done>progress.md routes to autopilot when in lazy mode</done>
</task>

</tasks>

<verification>
After both tasks:
- help.md documents /gsd:autopilot as the unified command
- help.md no longer references /gsd:ralph or /gsd:run-milestone as separate commands
- progress.md suggests autopilot in lazy mode, execute-phase in interactive mode
</verification>

<success_criteria>
- help.md shows autopilot with full documentation
- help.md workflows updated for autopilot
- progress.md is mode-aware for execution suggestions
- No dangling references to removed commands
</success_criteria>

<output>
After completion, create `.planning/phases/10-execution-commands/10-03-SUMMARY.md`
</output>
